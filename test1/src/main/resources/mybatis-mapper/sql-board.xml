<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.test1.mapper.BoardMapper">
	<!-- xxx.Mapper 동일한 이름 사용 안됨 -->
	
	<select id="selectBoardList" parameterType="hashmap" resultType="com.example.test1.model.Board">
		SELECT * FROM ECO_BOARD
	</select>
	

	<select id="selectBoardInfo" parameterType="hashmap" resultType="com.example.test1.model.Board">
		SELECT * FROM ECO_BOARD B INNER JOIN ECO_USER U ON B.USERID = U.USERID
		WHERE BOARDNO = #{boardNo}
	</select>

	
<!-- 	<select id="viewList" parameterType="hashmap" resultType="com.example.test1.model.Board">
		SELECT * FROM ECO_BOARD WHERE BOARDNO = #{boardNo}
	</select> -->
	

	<insert id="writeBoard" parameterType="hashmap" useGeneratedKeys="true" keyProperty="BOARDNO" keyColumn="BOARDNO">
		INSERT INTO ECO_BOARD
		VALUES(null, #{title}, #{contents}, #{userId}, 0, #{kind}, NOW(), NOW())
	</insert>



	<insert id="insertBoardImage" parameterType="hashmap">
		INSERT INTO ECO_BOARD_IMAGE 
		VALUES(null, #{boardNo}, #{path}, #{fileName}, #{orgName}, #{fileSize}, #{etc})
	</insert>


	
	
	
	<delete id="deleteBoard" parameterType="hashmap">
		DELETE FROM ECO_BOARD WHERE BOARDNO = #{boardNo}
	</delete>

</mapper>